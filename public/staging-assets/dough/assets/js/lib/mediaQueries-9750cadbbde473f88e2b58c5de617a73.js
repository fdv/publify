define(["jquery","eventsWithPromises","featureDetect","jqueryThrottleDebounce"],function(e,t,n){"use strict";function r(e){var n=i();(n!==s||e)&&(s=n,t.publish("mediaquery:resize",{newSize:n}))}function i(){return window.getComputedStyle(o[0],":after").getPropertyValue("content")}function u(t){if(n.mediaQueries)if(t=t||e("body"),e(o).closest(t).length)r(!0);else{t.append(o);var i=e.debounce(250,r);window.addEventListener("resize",i,!1),r()}}var s=!1,o=e('<div class="js-mediaquery-test" />');return u(),{atSmallViewport:function(){return e.inArray(i(),["mq-xs","mq-s"])>-1}}});